import{_ as t,e as p,o as e,c as o,a as n,f as c,b as s,d as l}from"./app.3398e39f.js";const i={},r=n("h2",{id:"date-2012-12-24-23-51",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#date-2012-12-24-23-51","aria-hidden":"true"},"#"),s(" date: 2012-12-24 23:51")],-1),u=n("p",null,"\u8FD9\u4E24\u5929\u4E00\u76F4\u5728\u770B coffeescript \u76F8\u5173\u7684\u4E1C\u897F\uFF0C\u4E5F\u5E2E\u4E00\u4E2A\u670B\u53CB\u641E\u4E86\u4E2A\u751F\u4EA7\u8005-\u6D88\u8D39\u8005\u6A21\u578B\u7684 C \u8BED\u8A00\u5B9E\u73B0\u3002\u60F3\u5230\u8FD8\u6CA1\u7528 coffeescript \u771F\u6B63\u610F\u4E49\u4E0A\u5199\u8FC7\u7A0B\u5E8F\uFF0C\u90A3\u5C31\u5C1D\u8BD5\u505A\u4E00\u4E0B\u5427\u3002",-1),k=s("\u5176\u5B9E"),d={href:"http://read.douban.com/ebook/198648/",target:"_blank",rel:"noopener noreferrer"},m=s("\u300ACoffeeScript \u5C0F\u4E66\u300B"),v=s("\u662F\u6691\u5047\u5B9E\u4E60\u65F6\u5C31\u4E70\u4E86\uFF0C\u4E00\u76F4\u6BD4\u8F83\u5411\u5F80\u7740\u51FD\u6570\u5F0F\u7F16\u7A0B\u5374\u62D6\u5EF6\u4E86\u5F88\u4E45\u6CA1\u884C\u52A8\u8D77\u6765\u3002\u5C0F\u4E66\u53EA\u6709\u51E0\u5341\u9875\uFF0C\u672C\u662F github \u4E0A\u4E00\u4E2A\u5F00\u6E90\u7684\u9879\u76EE\uFF0C\u6211\u559C\u6B22\u8FD9\u79CD\u8F7B\u5DE7\u7684\u6587\u5B57\u3002\u8BED\u6CD5\u90E8\u5206\u770B\u4E0B\u6765\uFF0C\u518D\u770B\u4E0B\u7C7B\u4E0E\u7EE7\u627F\uFF0C\u53EA\u82B1\u4E86\u534A\u5929\u7684\u65F6\u95F4\uFF0C\u800C\u4E14\u5FC3\u60C5\u975E\u5E38\u6109\u60A6\uFF0C\u7136\u540E\u5C31\u53EF\u4EE5\u5F00\u59CB\u6211\u83DC\u9E1F\u7684\u7B2C\u4E00\u6B21\u8BD5\u98DE\u4E86\u3002"),b=n("p",null,"\u751F\u4EA7\u8005-\u6D88\u8D39\u8005\u6A21\u578B\u6CA1\u4EC0\u4E48\u597D\u8BF4\u7684\u4E86\uFF0C\u5C31\u662F\u8BFB\u5199\u5171\u4EAB\u7F13\u51B2\u533A\uFF0Cpv \u64CD\u4F5C\u63A7\u5236\u662F\u5426\u51B2\u7A81\u3002\u66F4\u591A\u7684\u5C31\u662F\u51B2\u7740 coffeescript \u6765\u7684\u3002\u4E0B\u9762\u662F\u4E00\u4E9B\u51CC\u4E71\u4F46\u81EA\u8BA4\u4E3A\u6709\u601D\u8003\u4EF7\u503C\u7684\u8BB0\u5F55\uFF0C\u6216\u8BB8\u540E\u7EED\u6211\u4F1A\u7EE7\u7EED\u5199\u4E00\u4E9B coffeescript \u7684\u5B66\u4E60\u7B14\u8BB0\uFF0C\u518D\u505A\u6DF1\u5165\u7684\u7814\u7A76\u3002",-1),f=n("h2",{id:"demo-\u53EF\u5C1D\u8BD5\u70B9\u51FB-\u751F\u4EA7-\u6D88\u8D39-\u6309\u94AE",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#demo-\u53EF\u5C1D\u8BD5\u70B9\u51FB-\u751F\u4EA7-\u6D88\u8D39-\u6309\u94AE","aria-hidden":"true"},"#"),s(),n("strong",null,"demo\uFF0C\u53EF\u5C1D\u8BD5\u70B9\u51FB\u201C\u751F\u4EA7\u201D\u201C\u6D88\u8D39\u201D\u6309\u94AE")],-1),g=n("iframe",{src:"/assets/demo/coffee_pc_demo/pro-con.html",width:"780",height:"336",scrolling:"no"},null,-1),h=l(`<h2 id="litten-\u5982\u662F\u60F3" tabindex="-1"><a class="header-anchor" href="#litten-\u5982\u662F\u60F3" aria-hidden="true">#</a> <strong>litten \u5982\u662F\u60F3\uFF1A</strong></h2><ul><li>\u6211\u4E00\u5B9A\u8981\u5B66\u4E00\u95E8\uFF0C\u81F3\u5C11\u4E00\u95E8\u51FD\u6570\u5F0F\u98CE\u683C\u7F16\u7A0B\u8BED\u8A00\uFF0C\u6CA1\u6709\u592A\u6DF1\u8FDC\u7684\u60F3\u6CD5\uFF0C\u5C31\u89C9\u5F97\u5B83\u5C31\u662F\u6211\u7684\u83DC</li><li>\u8FD9\u4E2A\u7A0B\u5E8F\u662F 66 \u884C\u7684 coffeescript \u4EE3\u7801\uFF0C\u6700\u540E\u7F16\u8BD1\u540E\u5F97\u5230\u4E86 122 \u884C\u7684 js \u4EE3\u7801\uFF0C\u8BF4\u660E\u7F16\u7A0B\u6548\u7387\u63D0\u5347\u663E\u8457</li><li>\u62EC\u53F7\uFF0C\u65B9\u62EC\u53F7\uFF0C\u82B1\u62EC\u53F7\uFF0C\u8FD8\u6709\u9017\u53F7\u6709\u65F6\u5019\u4F1A\u591A\u70E6\u4EBA\uFF0C\u7279\u522B\u662F\u4F7F\u7528\u8FC7 ExtJs \u7684\u4EBA\uFF0C\u800C coffeescript \u53EF\u4EE5\u6CA1\u6709</li><li>\u7528\u6CD5\u7B80\u6D01\u7684 jquery \u5728 coffeescript \u91CC\u9762\u4F1A\u66F4\u7B80\u6D01</li><li>\u5173\u4E8E coffeescript \u7684\u5FAA\u73AF\uFF0C\u5B83\u4E0D\u63A8\u8350\u4F60\u4F7F\u7528 for \u5FAA\u73AF\uFF0C\u800C\u662F\u4F7F\u7528\u201C\u63A8\u5BFC\u201D\uFF0C\u66B4\u9732\u5728\u5E95\u5C42\u7684\u5FAA\u73AF\u53EA\u6709 while \u8BED\u6CD5</li><li>\u4E8B\u4EF6\u7ED1\u5B9A\u65F6\uFF0C\u4F7F\u7528=&gt;\u53EF\u4EE5\u514D\u53BB js \u4E0A\u4E0B\u6587\u5207\u6362 this \u7684\u9EBB\u70E6</li><li>coffeescript \u7684\u6570\u7EC4\u8FED\u4EE3\u65B9\u6CD5\u975E\u5E38\u7684\u9177\uFF0C\u4E09\u8A00\u4E24\u8BED\u8BF4\u4E0D\u6E05</li><li>javascript \u4F1A\u662F\u4E0B\u4E00\u4E2A JVM \u5417\uFF1F</li><li>\u7AD9\u5728\u4EA7\u54C1\u7684\u89D2\u5EA6\uFF0C\u6211\u8BA4\u4E3A coffeescript \u8FD9\u540D\u5B57\u592A\u957F\u4E86-_-!</li></ul><h2 id="\u9644\u4E0A\u6E90\u7801" tabindex="-1"><a class="header-anchor" href="#\u9644\u4E0A\u6E90\u7801" aria-hidden="true">#</a> <strong>\u9644\u4E0A\u6E90\u7801</strong></h2><div class="language-coffeescript ext-coffeescript line-numbers-mode"><pre class="language-coffeescript"><code>	<span class="token constant">N</span> <span class="token operator">=</span> <span class="token number">10</span>

	<span class="token keyword">class</span> <span class="token class-name">ProCon</span>
		<span class="token property">data</span><span class="token operator">:</span>
			<span class="token property">mutex</span><span class="token operator">:</span><span class="token number">1</span>
			<span class="token property">empty</span><span class="token operator">:</span><span class="token constant">N</span>
			<span class="token property">full</span><span class="token operator">:</span><span class="token number">0</span>
			<span class="token property">front</span><span class="token operator">:</span><span class="token number">0</span>
			<span class="token property">rear</span><span class="token operator">:</span><span class="token number">0</span>
			<span class="token property">buf</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
		<span class="token property">init</span><span class="token operator">:</span><span class="token operator">-</span><span class="token operator">&gt;</span>
			i <span class="token operator">=</span> <span class="token number">0</span>
			<span class="token keyword">while</span> i<span class="token operator">&lt;</span><span class="token constant">N</span>
				newDom <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;div class=&quot;bufBox&quot;&gt;&lt;div class=&quot;bufCover&quot;&gt;&#39;</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">&#39;&lt;/div&gt;&#39;</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">&#39;&lt;/div&gt;&#39;</span><span class="token punctuation">)</span>
				<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#buf&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>newDom<span class="token punctuation">)</span>
				<span class="token class-member variable">@data</span><span class="token punctuation">.</span>buf<span class="token punctuation">.</span>push <span class="token string">&#39;e&#39;</span>
				i<span class="token operator">++</span>
			<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#produce&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token parameter">click</span> <span class="token operator">=&gt;</span>
				@<span class="token function">producer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#consume&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token parameter">click</span> <span class="token operator">=&gt;</span>
				@<span class="token function">consumer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token property">p</span><span class="token operator">:</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span>
			<span class="token keyword">return</span> <span class="token operator">--</span>num
		<span class="token property">v</span><span class="token operator">:</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span>
			<span class="token keyword">return</span> <span class="token operator">++</span>num
		<span class="token property">produceItem</span><span class="token operator">:</span><span class="token operator">-</span><span class="token operator">&gt;</span>
			<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;p class=&quot;desPro&quot;&gt;\u751F\u4EA7\u4E86\u4EA7\u54C1&lt;/p&gt;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>insertBefore <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#des p:first&quot;</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span> <span class="token string">&#39;m&#39;</span>
		<span class="token property">consumeItem</span><span class="token operator">:</span><span class="token operator">-</span><span class="token operator">&gt;</span>
			<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;p class=&quot;desCon&quot;&gt;\u6D88\u8D39\u4E86\u4EA7\u54C1&lt;/p&gt;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>insertBefore <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#des p:first&quot;</span><span class="token punctuation">)</span>
		<span class="token property">enterItem</span><span class="token operator">:</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
			<span class="token class-member variable">@data</span><span class="token punctuation">.</span>front <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>front<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token constant">N</span>
			<span class="token class-member variable">@data</span><span class="token punctuation">.</span>buf<span class="token punctuation">[</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>front<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
			str <span class="token operator">=</span> <span class="token string">&quot;\u5B58\u5165\u4EA7\u54C1<span class="token interpolation variable">#{@data.buf[@data.front]}</span>\u5230\u7F13\u51B2\u533A<span class="token interpolation variable">#{@data.front}</span>&quot;</span>
			<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;p class=&#39;desPro&#39;&gt;<span class="token interpolation variable">#{str}</span>&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>insertBefore <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#des p:first&quot;</span><span class="token punctuation">)</span>
			<span class="token function">$</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;.bufCover&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>front<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>animate
				<span class="token string-property property">&quot;height&quot;</span><span class="token operator">:</span><span class="token string">&quot;50px&quot;</span>
		<span class="token property">removeItem</span><span class="token operator">:</span><span class="token operator">-</span><span class="token operator">&gt;</span>
			<span class="token class-member variable">@data</span><span class="token punctuation">.</span>rear <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token constant">N</span><span class="token punctuation">;</span>
			<span class="token class-member variable">@data</span><span class="token punctuation">.</span>buf<span class="token punctuation">[</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>rear<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;e&#39;</span><span class="token punctuation">;</span>
			str <span class="token operator">=</span> <span class="token string">&quot;\u53D6\u51FA\u4EA7\u54C1<span class="token interpolation variable">#{@data.buf[@data.rear]}</span>\u4ECE\u7F13\u51B2\u533A<span class="token interpolation variable">#{@data.rear}</span>&quot;</span>
			<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;p class=&#39;desCon&#39;&gt;<span class="token interpolation variable">#{str}</span>&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>insertBefore <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#des p:first&quot;</span><span class="token punctuation">)</span>
			<span class="token function">$</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;.bufCover&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>rear<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>animate
				<span class="token string-property property">&quot;height&quot;</span><span class="token operator">:</span><span class="token string">&quot;0px&quot;</span>
		<span class="token property">producer</span><span class="token operator">:</span><span class="token operator">-</span><span class="token operator">&gt;</span>
			<span class="token keyword">if</span> <span class="token class-member variable">@data</span><span class="token punctuation">.</span>full<span class="token operator">==</span><span class="token constant">N</span>
				<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;p class=&#39;desSpe&#39;&gt;\u7F13\u51B2\u533A\u5DF2\u5168\u6EE1&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>insertBefore <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#des p:first&quot;</span><span class="token punctuation">)</span>
				<span class="token keyword">return</span>
			item <span class="token operator">=</span> @<span class="token function">produceItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token class-member variable">@data</span><span class="token punctuation">.</span>empty <span class="token operator">=</span> @<span class="token function">p</span><span class="token punctuation">(</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>empty<span class="token punctuation">)</span>
			<span class="token class-member variable">@data</span><span class="token punctuation">.</span>mutex <span class="token operator">=</span> @<span class="token function">p</span><span class="token punctuation">(</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>mutex<span class="token punctuation">)</span>
			@<span class="token function">enterItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
			<span class="token class-member variable">@data</span><span class="token punctuation">.</span>mutex <span class="token operator">=</span> @<span class="token function">v</span><span class="token punctuation">(</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>mutex<span class="token punctuation">)</span>
			<span class="token class-member variable">@data</span><span class="token punctuation">.</span>full <span class="token operator">=</span> @<span class="token function">v</span><span class="token punctuation">(</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>full<span class="token punctuation">)</span>
		<span class="token property">consumer</span><span class="token operator">:</span><span class="token operator">-</span><span class="token operator">&gt;</span>
			<span class="token keyword">if</span> <span class="token class-member variable">@data</span><span class="token punctuation">.</span>empty<span class="token operator">==</span><span class="token constant">N</span>
				<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;p class=&#39;desSpe&#39;&gt;\u7F13\u51B2\u533A\u5DF2\u7A7A&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>insertBefore <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#des p:first&quot;</span><span class="token punctuation">)</span>
				<span class="token keyword">return</span>
			<span class="token class-member variable">@data</span><span class="token punctuation">.</span>full <span class="token operator">=</span> @<span class="token function">p</span><span class="token punctuation">(</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>full<span class="token punctuation">)</span>
			<span class="token class-member variable">@data</span><span class="token punctuation">.</span>mutex <span class="token operator">=</span> @<span class="token function">p</span><span class="token punctuation">(</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>mutex<span class="token punctuation">)</span>
			@<span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token class-member variable">@data</span><span class="token punctuation">.</span>mutex <span class="token operator">=</span> @<span class="token function">v</span><span class="token punctuation">(</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>mutex<span class="token punctuation">)</span>
			<span class="token class-member variable">@data</span><span class="token punctuation">.</span>empty <span class="token operator">=</span> @<span class="token function">v</span><span class="token punctuation">(</span><span class="token class-member variable">@data</span><span class="token punctuation">.</span>empty<span class="token punctuation">)</span>
			@<span class="token function">consumeItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	procon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ProCon</span>
	procon<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4);function q(_,y){const a=p("ExternalLinkIcon");return e(),o("div",null,[r,u,n("p",null,[k,n("a",d,[m,c(a)]),v]),b,f,g,h])}var $=t(i,[["render",q],["__file","coffee.html.vue"]]);export{$ as default};
